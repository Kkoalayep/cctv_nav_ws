# CCTV-Based Vision-Only Robot Navigation (ROS 2 + Gazebo)

A vision-only indoor navigation stack driven by a single overhead CCTV camera. It integrates HSV color segmentation, perspective correction, occupancy-grid mapping, A* global planning, and pure pursuit tracking control. Gazebo simulation and RViz visualization are included.

## Features

- Overhead single-camera pipeline: detection → perspective correction → mapping → planning → control
- Global **A*** on an occupancy grid with pure-pursuit path tracking
- Gazebo Classic world + RViz configuration for quick reproduction
- Clear ROS 2 package split: `cctv_gazebo`, `cctv_perception`, `cctv_mapping`, `cctv_navigation`

## Prerequisites

- Ubuntu 22.04 + **ROS 2 Humble**
- **Gazebo Classic** with `gazebo_ros`

## Quick Start (One-Shot Launch)

```bash
# Open a new terminal
cd ~/cctv_nav_ws
colcon build
source install/setup.bash
ros2 launch cctv_gazebo cctv_world.launch.py

# Start RViz with the provided config
rviz2 -d src/cctv_gazebo/config/cctv_navigation.rviz
```

## Debug Mode (Step-by-Step)

### Start Simulation, Static TF, Perception, Mapping
(Navigation controller disabled for debugging)

```bash
cd ~/cctv_nav_ws
source install/setup.bash
ros2 launch gazebo_ros gazebo.launch.py world:=src/cctv_gazebo/worlds/cctv_world.world
ros2 run tf2_ros static_transform_publisher 0 0 5.0 3.1415926 3.1415926 0 odom overhead_camera_optical_frame
ros2 run cctv_perception color_tracker
ros2 run cctv_mapping map_builder
```

### Debug Navigation Controller

```bash
ros2 run cctv_navigation navigation_controller_debug.py
```

## Repository Structure

```
cctv_nav_ws/
├── build/                         # generated by colcon
├── install/                       # generated by colcon
├── log/                           # generated by colcon
└── src/
    ├── cctv_gazebo/
    │   ├── config/
    │   │   └── cctv_navigation.rviz
    │   ├── include/               # headers if any
    │   ├── launch/
    │   │   └── cctv_world.launch.py
    │   ├── src/                   # C++ nodes if any
    │   ├── worlds/
    │   │   └── cctv_world.world
    │   ├── CMakeLists.txt
    │   └── package.xml
    ├── cctv_mapping/
    │   ├── build/                 # generated (if present)
    │   ├── cctv_mapping/
    │   │   ├── __init__.py
    │   │   └── map_builder.py
    │   ├── install/               # generated (if present)
    │   ├── log/                   # generated (if present)
    │   ├── resource/
    │   ├── test/
    │   ├── package.xml
    │   ├── setup.cfg
    │   └── setup.py
    ├── cctv_navigation/
    │   ├── cctv_navigation/
    │   │   └── navigation_controller_debug.py
    │   ├── resource/
    │   ├── test/
    │   ├── package.xml
    │   ├── setup.cfg
    │   └── setup.py
    └── cctv_perception/
        ├── cctv_perception/
        │   ├── __init__.py
        │   └── color_tracker.py
        ├── resource/
        ├── test/
        ├── package.xml
        ├── setup.cfg
        └── setup.py
```

## Intellectual Property Statement

The author of this thesis (including any appendices and/or schedules to this thesis) owns certain copyright or related rights in it (the "Copyright") and s/he has given The University of Manchester certain rights to use such Copyright, including for administrative purposes.

Copies of this thesis, either in full or in extracts and whether in hard or electronic copy, may be made only in accordance with the Copyright, Designs and Patents Act 1988 (as amended) and regulations issued under it or, where appropriate, in accordance with licensing agreements which the University has from time to time. This page must form part of any such copies made.

The ownership of certain Copyright, patents, designs, trademarks and other intellectual property (the "Intellectual Property") and any reproductions of copyright works in the thesis, for example graphs and tables ("Reproductions"), which may be described in this thesis, may not be owned by the author and may be owned by third parties. Such Intellectual Property and Reproductions cannot and must not be made available for use without the prior written permission of the owner(s) of the relevant Intellectual Property and/or Reproductions.

Further information on the conditions under which disclosure, publication and commercialisation of this thesis, the Copyright and any Intellectual Property and/or Reproductions described in it may take place is available in:
- The University IP Policy: http://documents.manchester.ac.uk/DocuInfo.aspx?DocID=24420
- Any relevant Dissertation restriction declarations deposited in the University Library
- The University Library's regulations: http://www.library.manchester.ac.uk/about/regulations/_files/Library-regulations.pdf

## Citation

If you use this repository in academic work, please cite your dissertation/project accordingly.
